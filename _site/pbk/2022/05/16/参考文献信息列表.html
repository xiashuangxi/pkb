
<!DOCTYPE html>
<html>
    <head>
        <!-- <base href="/"> -->
<meta charset="utf-8">

<meta http-equiv="Content-Language" content="zh-cn">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

<link rel="shortcut icon" type="image/ico" href="

/assets/favicon/favicon.ico" />

<title></title>
<link rel="stylesheet" href="

/assets/stylesheet/lib/highlight.min.css?v=" />
<link rel="stylesheet" href="

/assets/stylesheet/default/default.css?v=" />

<link rel="stylesheet" href="

/assets/stylesheet/style.css?=" />
    </head>
    <body>
        <div class="wrapper">
            <div class="header-container">
    <div class="header-inner">
        <div class="nav-container">
            <div class="left-scope"></div>
            <div class="nav">
                
                
                <ul>
                    <div class="item" onmouseover="show_subitem('首页')" onmouseout="hide_subitem('首页')">
                        <a>首页</a>
                        <span class="item-split"></span>
                    </div>
                    <div class="item-subitem" sub-id="首页" onmouseover="show_subitem('首页')" onmouseout="hide_subitem('首页')" hide>
                        
                        <li>
                            <a  href="

/"  >
                                <div class="subitem-icon">
                                    
                                    <img src="

/assets/images/home_14x14.gif">
                                    
                                </div>
                                <div>
                                     
                                        <b>首页</b>
                                        <div style="font-weight: 500;">Personal knowledge base</div>
                                    
                                </div>
                            </a>
                        </li>
                        
                        <li>
                            <a target="_blank" href="https://xiashuangxi.github.io/bookphrase/"  >
                                <div class="subitem-icon">
                                    
                                </div>
                                <div>
                                     
                                        个人博客 
                                    
                                </div>
                            </a>
                        </li>
                        
                        <li>
                            <a  href="

/sendmessage.html"  >
                                <div class="subitem-icon">
                                    
                                    <img src="

/assets/images/email_14x14.gif">
                                    
                                </div>
                                <div>
                                     
                                        联系我们 
                                    
                                </div>
                            </a>
                        </li>
                    
                    </div>
                </ul>
                
                
                
                <div class="item">
                    <a  target="_blank" href="https://xiashuangxi.github.io/eb"  >个人图书馆</a>
                    <span class="item-split"></span>
                </div>
                
                
                
                <div class="item">
                    <a  href="

/data_literature_query.html"  >数据/文献查询</a>
                    <span class="item-split"></span>
                </div>
                
                
                
                <ul>
                    <div class="item" onmouseover="show_subitem('订阅')" onmouseout="hide_subitem('订阅')">
                        <a>订阅</a>
                        <span class="item-split"></span>
                    </div>
                    <div class="item-subitem" sub-id="订阅" onmouseover="show_subitem('订阅')" onmouseout="hide_subitem('订阅')" hide>
                        
                        <li>
                            <a  href="

/rss.html"  >
                                <div class="subitem-icon">
                                    
                                    <img src="

/assets/images/rss.gif">
                                    
                                </div>
                                <div>
                                     
                                        Rss订阅 
                                    
                                </div>
                            </a>
                        </li>
                    
                    </div>
                </ul>
                
                
                
                <div class="item">
                    <a  href="

/kb_map.html"  >知识关系</a>
                    <span class="item-split"></span>
                </div>
                
                
                
                <ul>
                    <div class="item" onmouseover="show_subitem('帮助')" onmouseout="hide_subitem('帮助')">
                        <a>帮助</a>
                        <span class="item-split"></span>
                    </div>
                    <div class="item-subitem" sub-id="帮助" onmouseover="show_subitem('帮助')" onmouseout="hide_subitem('帮助')" hide>
                        
                        <li>
                            <a  href="

/about.html"  >
                                <div class="subitem-icon">
                                    
                                    <img src="

/assets/images/about_16x16.png">
                                    
                                </div>
                                <div>
                                     
                                        关于 
                                    
                                </div>
                            </a>
                        </li>
                        
                        <li>
                            <a  href="

/donate.html"  >
                                <div class="subitem-icon">
                                    
                                    <img src="

/assets/images/donations.gif">
                                    
                                </div>
                                <div>
                                     
                                        捐助 
                                    
                                </div>
                            </a>
                        </li>
                    
                    </div>
                </ul>
                
                
            </div>
        </div>
    </div>
</div>
    
<script>
    // window.onload=function (){}

    var show_subitem = function(tag){
        if (tag){
            var subitem = document.querySelector("[sub-id= '"+tag+"']");
            var ishide = subitem.getAttribute('hide');
            if (ishide != null) {
                subitem.removeAttribute('hide');
                subitem.setAttribute('show','');
            }
        }
    }

    var hide_subitem = function(tag){
        if (tag){
            var subitem = document.querySelector("[sub-id= '"+tag+"']");
            var ishide = subitem.getAttribute('show');
            if (ishide != null) {
                subitem.removeAttribute('show');
                subitem.setAttribute('hide','');
            }
        }
    }
</script>
            <div class="main-content">
                
<div class="article-container panel">
    <div class="article-container-inner">
        <div class="article-header">
            <div class="article-header-title">参考文献信息列表</div>
        </div>
        
        <div class="article-content">
            <div class="panel vertical float-right none-padding">
                
                


<div class="panel vertical border-bottom-coarse-solid-line border-wide-v-3 
border-wide-lr-v-1 border-right-coarse-solid-line border-left-coarse-solid-line
shadow" style="width: 20vw;float: right;margin-left: 6px;">
    <div class="title">主要分类</div>
    <div class="toc-container">
        <div class="toc-container-inner">
            <div class="toc-title">参考文献信息列表</div>
            <ul id="toc-root">
                
            </ul>
        </div>
    </div>
</div>
<script>
   

    var node = function(data){
        this.data = data;
        this.parent = null;
        this.child = [];
        this.level = 0;
    }

    var toc = function(data) {
        this.__root = new node(data)
    }

    window.onload = function() {
        var content = document.body.innerHTML
        // 得到所有h标签 (\<h\d.*?\>).*?(\<\/h\d\>)
        // 得到h标签的级别 (\<h)[\d] => h1
        // 得到h标签中的innerHTML (?<=\<h\d.*?\>).*?(?=\<\/h\d\>)
        // 得到h标签中的id属性值   (?<=id=").*?(?=\">) // ((\<h)[\d]\sid=").*?

        var harr = content.match(/(\<h\d.*?\>).*?(\<\/h\d\>)/g);
        // console.log(harr);

        var prev_level = 0;

        var bool = true;
        var index_level = 1;
        for (var j = 0; j < harr.length; j++ ){   
            var level = harr[j].match(/(\<h)[\d]/g)[0].replace("<h","");
            // console.log(harr[j])
            var content =  harr[j].replace(/(id=").*?(?=\">)/g, "").replace("\"","");
            content = content.substring(0,4) + "id="+index_level + content.substring(4,content.length);

            var id_content = harr[j].match(/(?<=id=").*?(?=\">)/g);
            var obj = document.querySelector("#"+id_content[0])
            // console.log(obj)
            obj.setAttribute("goto_tag",index_level);

            index_level++;


            gen_toc_item(level, content )
        }
        // console.log(_root);
        // var ul = document.createElement("ul");
        var ul = document.querySelector("#toc-root");
        
        gen_toc_html(ul,_root.__root,null);

       
    }

    var gen_toc_html = function(panel,toc_tree, index) {
        var _inx = "";
        if (toc_tree.child.length > 0){        
            for (var i = 0; i < toc_tree.child.length; i++ ){
                var li = document.createElement("li");
                var cl = toc_tree.child[i];
                var content = cl.data.match(/(?<=\<h\d.*?\>).*?(?=\<\/h\d\>)/g);
                // var id_content = cl.data.match(/(?<=id=").*?(?=\">)/g);
                var id_content = cl.data.match(/(?<=id=).*?(?=\>)/g);
                li.setAttribute("id",content);
                // console.log(cl.data)
                
                var link = document.createElement("a")
                link.setAttribute("title", content);
                link.setAttribute("href","javascript:achor_link_forid('"+id_content+"');");
                // link.setAttribute("href","javascript:achor_link_forid('"+index_level+"');");
                
                if (index != null){
                    _inx= index+"."+(i+1);
                    link.innerText = index+"."+(i+1)+"."+content;
                }else {
                    _inx = (i+1);
                    link.innerText = (i+1)+"."+content;
                }
                

                li.appendChild(link)

                panel.appendChild(li)
                if (cl.child.length >0 ){
                    var ul = document.createElement("ul");
                    panel.appendChild(ul);
                    gen_toc_html(ul,cl,_inx)
                }

            } 
        }else {
                var li = document.createElement("li");
                var cl = toc_tree.child[i];
                var content = cl.data.match(/(?<=\<h\d.*?\>).*?(?=\<\/h\d\>)/g);
                li.setAttribute("id",content);
                li.innerText = content;
                panel.appendChild(li)
        }
    }

    var _root = new toc("Root");
    var _parent = null;
    var gen_toc_item = function(level, item) {
        if (level == 1){
            var l_node = new node(item);
            l_node.parent = _root;
            l_node.level = level;
            _root.__root.child.push(l_node)
            _parent = l_node;

        }else {

            var p = parent_for_level(_parent, level);
            var l_node = new node(item);
            l_node.parent = p;
            l_node.level = level;
            p.child.push(l_node)

            _parent = l_node;
        }

    }

    var parent_for_level = function(parent,level){
        
        if (parent.level == level){
            return parent.parent;
        }
        // parent.level = 4
        // level        = 3
        // + 1
        // +---+ 2
        //     +---+ 3
        //     |   +---+ 4    => parent.level
        //     +---+ 3        => level 
        if (parent.level > level){
            return parent_for_level(parent.parent, level);
        }
        // parent.level = 4
        // level        = 3
        // + 1
        // +---+ 2
        //     +---+ 3
        //     |   +---+ 4    => level
        //     +---+ 3        => parent.level 
        if (parent.level < level){
            // if ((level - parent.level) == 1){
            //     return parent;
            // } else { return }

            return parent;
        }
    }
</script>            
                

                <!--  -->
            </div>
            <p><a href="/pkb/teim.html">Brain changes after COVID revealed by imaging</a></p>

        </div>
    </div>
</div>
<script>
    var achor_link = function(name){
        document.querySelector("a[name="+name+"]").scrollIntoView()
    }
    var achor_link_forid = function(id){
        //document.querySelector("#"+id).scrollIntoView();
        document.querySelector("[goto_tag=\""+id+"\"]").scrollIntoView()
        
    }
</script>

            </div>
            <div class="footer-container">
    <div class="footer-inner">
        <div class="content">
            <div>
                &copy; 2022年 Xia Shuangxi 版权所有，保留所有权利。
                <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
                    <img alt="知识共享许可协议" style="border-width:0" src="/worknotes/assets/images/license-80x15.png">
                </a>
            </div>
            <div>如果有任何意见或建议，请发送电子邮件 <a href="mailto:xiashuangxi@hotmail.com">xiashuangxi@hotmail.com</a> 给网站管理员。</div>
            <!-- 剑桥翻译 iframe -->
            <div>
                <form action='https://dictionary.cambridge.org/zhs/%E6%90%9C%E7%B4%A2/%E8%8B%B1%E8%AF%AD/direct/' method='get' target='_blank'> <input type='hidden' name='utm_source' value='widget_searchbox_source'/> <input type='hidden' name='utm_medium' value='widget_searchbox'/> <input type='hidden' name='utm_campaign' value='widget_tracking'/> <table style='font-family:Arial,Helvetica,sans-serif;font-size:10px;background:#1D2A57;border-collapse:collapse;border-spacing:0;width:150px;background-image:linear-gradient(to right,#0f193d,#2c2f62,#1a2753)'> <caption style='display:none;'>CUP free search box</caption> <tbody> <tr> <td colspan='2' style='padding:0;background:none;border:none;'> <a href='https://dictionary.cambridge.org/zhs/' style='display:block;background:transparent url(https://dictionary.cambridge.org/zhs/external/images/freesearch/sbl.png?version=5.0.225) no-repeat 5px 6px;height:32px;'></a> </td> </tr> <tr> <td style='width:130px;background:none;border:none;padding:0;font-size:10px;border-collapse:collapse;border-spacing:0;'> <input style='margin:4px;padding:0 0 0 3px;display:block;font-family:Arial,Helvetica,sans-serif;font-size:10px;border:1px solid #ddd;border-radius:20px;box-shadow:inset 1px 1px 2px 0 rgba(0,0,0,0.1);color:#444;' name='q' placeholder='Search English' type='search' title='search' dir='auto' role='textbox' autocomplete='off' aria-controls='search' aria-multiline='false' aria-expanded='false' aria-label='Search' aria-required='true' aria-invalid='false' /> </td> <td style='width:20px;background:none;border:none;padding:0 4px 0 0;font-size:10px;border-collapse:collapse;border-spacing:0;'> <button style='width:15px;height:15px;vertical-align:top;display:inline-block;border:none;border-radius:50%;text-align:center;text-transform:none;padding:0;background:#FEC400;cursor:pointer;overflow:hidden;' title='Search' type='submit'> <img src='https://dictionary.cambridge.org/zhs/external/images/freesearch/search.png?version=5.0.225' style='vertical-align:-1px;border:none;height:auto;margin:0;padding:0;text-align:center;'/> </button> </td> </tr> </tbody> </table> </form>
            </div>
        </div>
    </div>
</div>

        </div>
    </body>
    <!-- <script src="/scripts/lib/angular.min.js"></script> -->
<script src="

/assets/scripts/lib/jquery.min.js"></script>
<!-- emoji -->
<script src="

/assets/scripts/lib/jQueryEmoji.min.js"></script>
<script src="

/assets/scripts/lib/jQueryEmoji_un.js"></script>
<script src="

/assets/scripts/lib/highlight.min.js"></script>
<!-- <script src="

/assets/scripts/lib/runtime.js"></script> -->
<script src="

/assets/scripts/lib/dblclick.js"></script>

<script>
	// https://dictionary.cambridge.org/search/direct/p?hello
	// english-chinese-simplified
	// https://dictionary.cambridge.org/spellcheck/english-chinese-simplified/?q=Shuangxi
	setupDoubleClick( 'https://dictionary.cambridge.org/', 'british', false, null, 5, 'popup' )
// $(function(){
// 	$('p').Emoji({
// 		path:  '/images/img/emojione/',
// 		class: 'emoji',
// 		ext:   'png'
// 	});
// });

// document.onload = function() {
	hljs.initHighlightingOnLoad();
// }
</script>
</html>

1